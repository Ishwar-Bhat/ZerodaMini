(function(e){function t(t){for(var n,c,i=t[0],s=t[1],l=t[2],d=0,g=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&g.push(r[c][0]),r[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(g.length)g.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},o=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1402:function(e,t,a){"use strict";a("7a1b")},"1f91":function(e,t,a){"use strict";a("95e2")},"24cf":function(e,t,a){"use strict";a("348a")},"348a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function r(e,t,a,r,o,c){var i=Object(n["j"])("TableView");return Object(n["f"])(),Object(n["c"])(i)}var o={className:"ctbl-layout"};function c(e,t,a,r,c,i){var s=Object(n["j"])("TableTitle"),l=Object(n["j"])("TableContent"),u=Object(n["j"])("TableFooter");return Object(n["f"])(),Object(n["c"])("div",o,[Object(n["e"])(s,{title:"Equity search utility",onSearchName:t[1]||(t[1]=function(e){return i.handleSearch(e)}),onExportCsv:i.exportFile,onRefreshList:t[2]||(t[2]=function(e){return i.callSearchAPI(e)})},null,8,["onExportCsv"]),Object(n["e"])(l,{dataRows:c.dataRows,linesPerPage:c.linesPerPage,currentPage:c.currentPage},null,8,["dataRows","linesPerPage","currentPage"]),Object(n["e"])(u,{totalrows:i.totalRows,onPageChanged:i.handlePageChange,onPerPageChanged:i.handlePerPageChange},null,8,["totalrows","onPageChanged","onPerPageChanged"])])}var i=a("2909"),s=(a("5319"),a("ac1f"),a("a15b"),a("99af"),a("b64b"),a("d81d"),a("07ac"),Object(n["q"])("data-v-952cac36"));Object(n["h"])("data-v-952cac36");var l={className:"tbl-title"},u={className:"row"},d={class:"download-info"},g=Object(n["e"])("i",{class:"fa fa-refresh"},null,-1),f={class:"hitem right-align"},p={class:"hitem right-align"};Object(n["g"])();var h=s((function(e,t,a,r,o,c){var i=Object(n["j"])("SearchBox"),s=Object(n["j"])("Button");return Object(n["f"])(),Object(n["c"])("div",l,[Object(n["e"])("div",u,[Object(n["e"])("div",null,[Object(n["e"])("h2",null,Object(n["k"])(a.title),1),Object(n["e"])("span",d," Last file download at: "+Object(n["k"])(o.last_download),1),Object(n["e"])("a",{onClick:t[1]||(t[1]=function(){return c.reDownload&&c.reDownload.apply(c,arguments)})},[g])]),Object(n["e"])("div",f,[Object(n["e"])(i,{onSearchName:t[2]||(t[2]=function(t){return e.$emit("searchName",t)})})]),Object(n["e"])("div",p,[Object(n["e"])(s,{title:"Export CSV",onClicked:t[3]||(t[3]=function(t){return e.$emit("exportCsv")})})])])])})),b=Object(n["q"])("data-v-7f2d0bb0"),P=b((function(e,t,a,r,o,c){return Object(n["f"])(),Object(n["c"])("button",{class:"btn-abort",onClick:t[1]||(t[1]=function(t){return e.$emit("clicked")})},[Object(n["e"])("span",null,Object(n["k"])(a.title),1)])})),O={name:"Button",props:["title"]};a("1402");O.render=P,O.__scopeId="data-v-7f2d0bb0";var j=O,v=Object(n["q"])("data-v-0a28a25c");Object(n["h"])("data-v-0a28a25c");var m={class:"search open"};Object(n["g"])();var w=v((function(e,t,a,r,o,c){return Object(n["f"])(),Object(n["c"])("div",m,[Object(n["n"])(Object(n["e"])("input",{type:"text",placeholder:"Search",class:"search-box","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.searchValue=e})},null,512),[[n["m"],o.searchValue]])])})),_={name:"SearchBox",data:function(){return{searchValue:""}},watch:{searchValue:function(e){this.$emit("searchName",e)}}};a("6f2c");_.render=w,_.__scopeId="data-v-0a28a25c";var y=_,x=(a("d3b7"),function(e,t){"localhost"===window.location.hostname&&(e="http://127.0.0.1:8000/".concat(e)),fetch(e).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return console.log(e)}))}),C={name:"TableTitle",props:["title"],data:function(){return{last_download:"Not available"}},methods:{reDownload:function(){var e=confirm("Are you sure to re-download the Equity file and update the data store?");e&&x("api/download_again",this.emitRefresh)},emitRefresh:function(e){this.updateLastUpdateText(e),this.$emit("refreshList","")},updateLastUpdateText:function(e){this.last_download=e.last_download}},components:{Button:j,SearchBox:y},mounted:function(){x("api/last_update",this.updateLastUpdateText)}};a("1f91");C.render=h,C.__scopeId="data-v-952cac36";var R=C,k=Object(n["q"])("data-v-943d4fe0");Object(n["h"])("data-v-943d4fe0");var T={className:"table-wrap"},I={className:"table table-striped table-hover"},S=Object(n["e"])("thead",null,[Object(n["e"])("tr",null,[Object(n["e"])("th",null,"CODE"),Object(n["e"])("th",null,"NAME"),Object(n["e"])("th",null,"OPEN"),Object(n["e"])("th",null,"HIGH"),Object(n["e"])("th",null,"LOW"),Object(n["e"])("th",null,"CLOSE")])],-1),N={key:0},D={key:1},A=Object(n["e"])("tr",null,[Object(n["e"])("td",{colspan:"6"},"No Data found")],-1);Object(n["g"])();var E=k((function(e,t,a,r,o,c){return Object(n["f"])(),Object(n["c"])("div",T,[Object(n["e"])("table",I,[S,0!==c.currentRows.length?(Object(n["f"])(),Object(n["c"])("tbody",N,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(c.currentRows||[],(function(e){return Object(n["f"])(),Object(n["c"])("tr",{key:e.code},[Object(n["e"])("td",null,Object(n["k"])(e.SC_CODE),1),Object(n["e"])("td",null,Object(n["k"])(e.SC_NAME),1),Object(n["e"])("td",null,Object(n["k"])(e.OPEN),1),Object(n["e"])("td",null,Object(n["k"])(e.HIGH),1),Object(n["e"])("td",null,Object(n["k"])(e.LOW),1),Object(n["e"])("td",null,Object(n["k"])(e.CLOSE),1)])})),128))])):(Object(n["f"])(),Object(n["c"])("tbody",D,[A]))])])})),V={name:"TableContent",props:["dataRows","linesPerPage","currentPage"],computed:{currentRows:function(){for(var e=[],t=0;t<this.linesPerPage;t++){var a=this.currentPage*this.linesPerPage-this.linesPerPage;if(void 0===this.dataRows[a+t])break;e.push(this.dataRows[a+t])}return e}}};V.render=E,V.__scopeId="data-v-943d4fe0";var M=V,L=Object(n["q"])("data-v-d1b7701a");Object(n["h"])("data-v-d1b7701a");var $={class:"table-bottom"};Object(n["g"])();var q=L((function(e,t,a,r,o,c){var i=Object(n["j"])("VgtPagination");return Object(n["f"])(),Object(n["c"])("div",$,[Object(n["e"])(i,{total:a.totalrows,onPageChanged:c.pageChanged,onPerPageChanged:c.perPageChanged},null,8,["total","onPageChanged","onPerPageChanged"])])})),F=Object(n["q"])("data-v-1a4646f4");Object(n["h"])("data-v-1a4646f4");var B={class:"vgt-wrap__footer vgt-clearfix"},J={key:0,class:"footer__row-count vgt-pull-left"},U={class:"footer__navigation vgt-pull-right"};Object(n["g"])();var H=F((function(e,t,a,r,o,c){var i=Object(n["j"])("pagination-page-info");return Object(n["f"])(),Object(n["c"])("div",B,[a.perPageDropdownEnabled?(Object(n["f"])(),Object(n["c"])("div",J,[Object(n["e"])("form",null,[Object(n["e"])("label",{for:o.id,class:"footer__row-count__label"},Object(n["k"])(a.rowsPerPageText)+":",9,["for"]),Object(n["n"])(Object(n["e"])("select",{id:o.id,autocomplete:"off",name:"perPageSelect",class:"footer__row-count__select","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.currentPerPage=e}),onChange:t[2]||(t[2]=function(){return c.perPageChanged&&c.perPageChanged.apply(c,arguments)}),"aria-controls":"vgt-table"},[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(o.rowsPerPageOptions,(function(e,t){return Object(n["f"])(),Object(n["c"])("option",{key:t,value:e},Object(n["k"])(e),9,["value"])})),128)),a.paginateDropdownAllowAll?(Object(n["f"])(),Object(n["c"])("option",{key:0,value:a.total},Object(n["k"])(a.allText),9,["value"])):Object(n["d"])("",!0)],40,["id"]),[[n["l"],o.currentPerPage]])])])):Object(n["d"])("",!0),Object(n["e"])("div",U,[Object(n["e"])(i,{onPageChanged:c.changePage,"total-records":a.total,"last-page":c.pagesCount,"current-page":o.currentPage,"current-per-page":o.currentPerPage,"of-text":a.ofText,"page-text":a.pageText,"info-fn":a.infoFn,mode:a.mode},null,8,["onPageChanged","total-records","last-page","current-page","current-per-page","of-text","page-text","info-fn","mode"]),Object(n["e"])("button",{type:"button","aria-controls":"vgt-table",class:["footer__navigation__page-btn",{disabled:!c.prevIsPossible}],onClick:t[3]||(t[3]=Object(n["p"])((function(){return c.previousPage&&c.previousPage.apply(c,arguments)}),["prevent","stop"]))},[Object(n["e"])("span",{"aria-hidden":"true",class:["chevron",{left:!a.rtl,right:a.rtl}]},null,2),Object(n["e"])("span",null,Object(n["k"])(a.prevText),1)],2),Object(n["e"])("button",{type:"button","aria-controls":"vgt-table",class:["footer__navigation__page-btn",{disabled:!c.nextIsPossible}],onClick:t[4]||(t[4]=Object(n["p"])((function(){return c.nextPage&&c.nextPage.apply(c,arguments)}),["prevent","stop"]))},[Object(n["e"])("span",null,Object(n["k"])(a.nextText),1),Object(n["e"])("span",{"aria-hidden":"true",class:["chevron",{right:!a.rtl,left:a.rtl}]},null,2)],2)])])})),G=Object(n["q"])("data-v-8e58098c");Object(n["h"])("data-v-8e58098c");var W={class:"footer__navigation__page-info"},K={key:0},z=Object(n["e"])("span",{id:"change-page-hint",style:{display:"none"}}," Type a page number and press Enter to change the page. ",-1),Q={key:2};Object(n["g"])();var X=G((function(e,t,a,r,o,c){return Object(n["f"])(),Object(n["c"])("div",W,[a.infoFn?(Object(n["f"])(),Object(n["c"])("div",K,Object(n["k"])(a.infoFn(c.infoParams)),1)):"pages"===a.mode?(Object(n["f"])(),Object(n["c"])("form",{key:1,onSubmit:t[2]||(t[2]=Object(n["p"])((function(){}),["prevent"]))},[Object(n["e"])("label",{for:o.id,class:"page-info__label"},[Object(n["e"])("span",null,Object(n["k"])(a.pageText),1),Object(n["e"])("input",{id:o.id,"aria-describedby":"change-page-hint","aria-controls":"vgb-table",class:"footer__navigation__page-info__current-entry",type:"text",onKeyup:t[1]||(t[1]=Object(n["o"])(Object(n["p"])((function(){return c.changePage&&c.changePage.apply(c,arguments)}),["stop"]),["enter"])),value:a.currentPage},null,40,["id","value"]),Object(n["e"])("span",null,Object(n["k"])(c.pageInfo),1)],8,["for"]),z],32)):(Object(n["f"])(),Object(n["c"])("div",Q,Object(n["k"])(c.recordInfo),1))])})),Y=(a("9129"),a("a9e3"),{Pages:"pages",Records:"records"}),Z=[10,20,30,40,50],ee={name:"VgtPaginationPageInfo",props:{currentPage:{default:1},lastPage:{default:1},totalRecords:{default:0},ofText:{default:"of",type:String},pageText:{default:"page",type:String},currentPerPage:{},mode:{default:Y.Records},infoFn:{default:null}},data:function(){return{id:this.getId()}},computed:{pageInfo:function(){return"".concat(this.ofText," ").concat(this.lastPage)},firstRecordOnPage:function(){return(this.currentPage-1)*this.currentPerPage+1},lastRecordOnPage:function(){return Math.min(this.totalRecords,this.currentPage*this.currentPerPage)},recordInfo:function(){var e=this.firstRecordOnPage,t=this.lastRecordOnPage;return 0===t&&(e=0),"".concat(e," - ").concat(t," ").concat(this.ofText," ").concat(this.totalRecords)},infoParams:function(){return{firstRecordOnPage:this.firstRecordOnPage,lastRecordOnPage:this.lastRecordOnPage,totalRecords:this.totalRecords,currentPage:this.currentPage,totalPages:this.lastPage}}},methods:{getId:function(){return"vgt-page-input-".concat(Math.floor(Math.random()*Date.now()))},changePage:function(e){var t=parseInt(e.target.value,10);//! invalid number
if(Number.isNaN(t)||t>this.lastPage||t<1)return e.target.value=this.currentPage,!1;e.target.value=t,this.$emit("page-changed",t)}},mounted:function(){},components:{}};a("f450");ee.render=X,ee.__scopeId="data-v-8e58098c";var te=ee,ae={name:"VgtPagination",props:{styleClass:{default:"table table-bordered"},total:{default:null},perPage:{},rtl:{default:!1},perPageDropdownEnabled:{default:!0},customRowsPerPageDropdown:{default:function(){return[]}},paginateDropdownAllowAll:{default:!0},mode:{default:Y.Pages},nextText:{default:"Next"},prevText:{default:"Prev"},rowsPerPageText:{default:"Rows per page"},ofText:{default:"of"},pageText:{default:"page"},allText:{default:"All"},infoFn:{default:null}},data:function(){return{id:this.getId(),currentPage:1,prevPage:0,currentPerPage:10,rowsPerPageOptions:[]}},watch:{perPage:{handler:function(e,t){this.handlePerPage(),this.perPageChanged(t)},immediate:!0},customRowsPerPageDropdown:function(){this.handlePerPage()},total:{handler:function(e){-1===this.rowsPerPageOptions.indexOf(this.currentPerPage)&&(this.currentPerPage=e)}}},computed:{pagesCount:function(){var e=Math.floor(this.total/this.currentPerPage),t=this.total%this.currentPerPage;return 0===t?e:e+1},nextIsPossible:function(){return this.currentPage<this.pagesCount},prevIsPossible:function(){return this.currentPage>1}},methods:{getId:function(){return"vgt-select-rpp-".concat(Math.floor(Math.random()*Date.now()))},changePage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e>0&&this.total>this.currentPerPage*(e-1)&&(this.prevPage=this.currentPage,this.currentPage=e,t&&this.pageChanged())},nextPage:function(){this.nextIsPossible&&(this.prevPage=this.currentPage,++this.currentPage,this.pageChanged())},previousPage:function(){this.prevIsPossible&&(this.prevPage=this.currentPage,--this.currentPage,this.pageChanged())},pageChanged:function(){this.$emit("page-changed",{currentPage:this.currentPage,prevPage:this.prevPage})},perPageChanged:function(e){e&&this.$emit("per-page-changed",{currentPerPage:this.currentPerPage}),this.changePage(1,!0)},handlePerPage:function(){if(null!==this.customRowsPerPageDropdown&&Array.isArray(this.customRowsPerPageDropdown)&&0!==this.customRowsPerPageDropdown.length?this.rowsPerPageOptions=JSON.parse(JSON.stringify(this.customRowsPerPageDropdown)):this.rowsPerPageOptions=JSON.parse(JSON.stringify(Z)),this.perPage){this.currentPerPage=this.perPage;for(var e=!1,t=0;t<this.rowsPerPageOptions.length;t++)this.rowsPerPageOptions[t]===this.perPage&&(e=!0);e||-1===this.perPage||this.rowsPerPageOptions.unshift(this.perPage)}else this.currentPerPage=10}},mounted:function(){},components:{"pagination-page-info":te}},ne=(a("7056"),a("6afe")),re=a.n(ne);ae.render=H,ae.__scopeId="data-v-1a4646f4","function"===typeof re.a&&re()(ae);var oe=ae,ce={name:"TableFooter",components:{VgtPagination:oe},props:["totalrows"],methods:{pageChanged:function(e){this.$emit("pageChanged",e.currentPage)},perPageChanged:function(e){this.$emit("perPageChanged",e.currentPerPage)}}};ce.render=q,ce.__scopeId="data-v-d1b7701a";var ie=ce,se={name:"TableView",components:{TableTitle:R,TableContent:M,TableFooter:ie},methods:{handlePageChange:function(e){this.currentPage=e},handlePerPageChange:function(e){this.linesPerPage=e},handleSearch:function(e){this.callSearchAPI(e)},updateDataRows:function(e){this.dataRows=e},callSearchAPI:function(e){x("api/search?q=".concat(e.toLowerCase()),this.updateDataRows)},exportFile:function(){if(0!==this.dataRows.length){var e="data:text/csv;charset=utf-8,";e+=[Object.keys(this.dataRows[0]).join(",")].concat(Object(i["a"])(this.dataRows.map((function(e){return Object.values(e).join(",")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","export.csv"),a.click()}}},data:function(){return{dataRows:[],linesPerPage:10,currentPage:1}},computed:{totalRows:function(){return this.dataRows.length}},mounted:function(){this.callSearchAPI("")}};se.render=c;var le=se,ue={name:"App",components:{TableView:le}};a("24cf");ue.render=r;var de=ue;Object(n["b"])(de).mount("#app")},6329:function(e,t,a){},"6afe":function(e,t){},"6f2c":function(e,t,a){"use strict";a("7fdc")},7056:function(e,t,a){"use strict";a("6329")},"7a1b":function(e,t,a){},"7fdc":function(e,t,a){},"95e2":function(e,t,a){},dcbc:function(e,t,a){},f450:function(e,t,a){"use strict";a("dcbc")}});
//# sourceMappingURL=app.2e69ceb2.js.map